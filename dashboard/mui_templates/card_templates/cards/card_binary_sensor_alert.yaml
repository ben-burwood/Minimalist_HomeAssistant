---
### Card Binary Sensor Alert ###
card_binary_sensor_alert:
  template:
    - "icon_more_info_alert"
    - "blue"
    - "mui_translation_engine"
  show_last_changed: false
  variables:
    mui_show_last_changed: false
    mui_card_binary_sensor_alert_icon: "[[[ return entity.attributes.icon ]]]"
    mui_card_binary_sensor_alert_name: "[[[ return entity.attributes.friendly_name ]]]"
    mui_outlet_power_enable_popup: false
  custom_fields:
    item1:
      card:
        type: "custom:button-card"
        template:
          - "blue"
        custom_fields:
          item1:
            card:
              type: "custom:button-card"
              template:
                - "blue"
              entity: "[[[ return entity.entity_id ]]]"
              icon: "[[[ return variables.mui_card_binary_sensor_alert_icon; ]]]"
              variables: >
                [[[
                  let vars = variables;

                  if(variables.mui_outlet_power_enable_popup) {
                    vars.mui_custom_popup = {
                      'template': 'popup_power_outlet_stats',
                      'popup_variables': {
                        'mui_popup_power_outlet_sensor1': variables.mui_popup_power_outlet_sensor1,
                        'mui_popup_power_outlet_sensor2': variables.mui_popup_power_outlet_sensor2,
                        'mui_popup_power_outlet_graph_sensor': variables.mui_popup_power_outlet_graph_sensor
                      }
                    };
                  }
                  return vars;
                ]]]
          item2:
            card:
              type: "custom:button-card"
              template:
                - "blue_no_card"
              entity: "[[[ return entity.entity_id ]]]"
              name: "[[[ return variables.mui_card_binary_sensor_alert_name; ]]]"
              label: "[[[ return variables.mui_translation_state;]]]"
              show_last_changed: "[[[ return variables.mui_show_last_changed; ]]]"
              variables: >
                [[[
                  let vars = variables;

                  if(variables.mui_outlet_power_enable_popup) {
                    vars.mui_custom_popup = {
                      'template': 'popup_power_outlet_stats',
                      'popup_variables': {
                        'mui_popup_power_outlet_sensor1': variables.mui_popup_power_outlet_sensor1,
                        'mui_popup_power_outlet_sensor2': variables.mui_popup_power_outlet_sensor2,
                        'mui_popup_power_outlet_graph_sensor': variables.mui_popup_power_outlet_graph_sensor
                      }
                    };
                  }
                  return vars;
                ]]]
